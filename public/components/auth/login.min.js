angular.module("app.components.auth.login",["app.services","ngFacebook","google-signin"]).config(["$facebookProvider","GoogleSigninProvider",function(e,n){e.setPermissions("email"),e.setCustomInit({appId:"145922565834003",version:"v2.7",channel:"",xfbml:!0}),n.init({client_id:"318323838412-n0oj6d720s78aev3gbc404k76lcjupbg.apps.googleusercontent.com"})}]).run(["$facebook",function(e){e.init()}]).controller("loginCtrl",["$state","$facebook","GoogleSignin","Auth",function(e,n,o,i){var t=this;t.login=function(a){switch(a){case"facebook":n.login("email").then(function(){return n.api("/me?fields=id,first_name,last_name,birthday,email")}).then(function(e){var n={id:e.id,data:e,method:a};return i.login(n)}).then(function(){e.go("profile")})["catch"](function(e){console.error(e)});break;case"google":o.signIn().then(function(e){var n=e.getBasicProfile();return i.login({id:n.getId(),email:n.getEmail(),first_name:n.getGivenName(),last_name:n.getFamilyName(),picture:n.getImageUrl(),method:a})}).then(function(n){e.go("profile")});break;default:i.login({username:t.username,password:t.password,method:"local"}).then(function(n){e.go("profile")})}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvYXV0aC9sb2dpbi5taW4uanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRmYWNlYm9va1Byb3ZpZGVyIiwiR29vZ2xlU2lnbmluUHJvdmlkZXIiLCJzZXRQZXJtaXNzaW9ucyIsInNldEN1c3RvbUluaXQiLCJhcHBJZCIsInZlcnNpb24iLCJjaGFubmVsIiwieGZibWwiLCJpbml0IiwiY2xpZW50X2lkIiwicnVuIiwiJGZhY2Vib29rIiwiY29udHJvbGxlciIsIiRzdGF0ZSIsIkdvb2dsZVNpZ25pbiIsIkF1dGgiLCJ2bSIsInRoaXMiLCJsb2dpbiIsInByb3ZpZGVyIiwidGhlbiIsImFwaSIsImRhdGEiLCJhdXRoT2JqIiwiaWQiLCJtZXRob2QiLCJnbyIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJzaWduSW4iLCJwcm9maWxlIiwiZ2V0QmFzaWNQcm9maWxlIiwiZ2V0SWQiLCJlbWFpbCIsImdldEVtYWlsIiwiZmlyc3RfbmFtZSIsImdldEdpdmVuTmFtZSIsImxhc3RfbmFtZSIsImdldEZhbWlseU5hbWUiLCJwaWN0dXJlIiwiZ2V0SW1hZ2VVcmwiLCJ1c2VyIiwidXNlcm5hbWUiLCJwYXNzd29yZCJdLCJtYXBwaW5ncyI6IkFBR0FBLFFBQVFDLE9BQU8sNkJBQ1gsZUFDQSxhQUNBLGtCQUVDQyxRQUFRLG9CQUFxQix1QkFBd0IsU0FBVUMsRUFBbUJDLEdBQy9FRCxFQUFrQkUsZUFBZSxTQUNqQ0YsRUFBa0JHLGVBQ2RDLE1BQU8sa0JBQ1BDLFFBQVMsT0FDVEMsUUFBUyxHQUNUQyxPQUFPLElBR1hOLEVBQXFCTyxNQUNqQkMsVUFBVyxnRkFHbEJDLEtBQUssWUFBYSxTQUFVQyxHQUN6QkEsRUFBVUgsVUFFYkksV0FBVyxhQUFjLFNBQVUsWUFBYSxlQUFnQixPQUM3RCxTQUFVQyxFQUFRRixFQUFXRyxFQUFjQyxHQUN2QyxHQUFJQyxHQUFLQyxJQUVURCxHQUFHRSxNQUFRLFNBQVVDLEdBQ2pCLE9BQVFBLEdBQ0osSUFBSyxXQUNEUixFQUFVTyxNQUFNLFNBQVNFLEtBQUssV0FDMUIsTUFBT1QsR0FBVVUsSUFBSSx1REFDdEJELEtBQUssU0FBVUUsR0FDZCxHQUFJQyxJQUNBQyxHQUFJRixFQUFLRSxHQUNURixLQUFNQSxFQUNORyxPQUFRTixFQUVaLE9BQU9KLEdBQUtHLE1BQU1LLEtBQ25CSCxLQUFLLFdBQ0pQLEVBQU9hLEdBQUcsYUFWZGYsU0FXUyxTQUFVZ0IsR0FDZkMsUUFBUUMsTUFBTUYsSUFFbEIsTUFDSixLQUFLLFNBQ0RiLEVBQWFnQixTQUFTVixLQUFLLFNBQVVFLEdBQ2pDLEdBQUlTLEdBQVVULEVBQUtVLGlCQUNuQixPQUFPakIsR0FBS0csT0FDUk0sR0FBSU8sRUFBUUUsUUFDWkMsTUFBT0gsRUFBUUksV0FDZkMsV0FBWUwsRUFBUU0sZUFDcEJDLFVBQVdQLEVBQVFRLGdCQUNuQkMsUUFBU1QsRUFBUVUsY0FDakJoQixPQUFRTixNQUViQyxLQUFLLFNBQVVzQixHQUNkN0IsRUFBT2EsR0FBRyxZQUVkLE1BQ0osU0FDSVgsRUFBS0csT0FDRHlCLFNBQVUzQixFQUFHMkIsU0FDYkMsU0FBVTVCLEVBQUc0QixTQUNibkIsT0FBUSxVQUNUTCxLQUFLLFNBQVVzQixHQUNkN0IsRUFBT2EsR0FBRyIsImZpbGUiOiJjb21wb25lbnRzL2F1dGgvbG9naW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTXVsaSBZdWx6YXJ5IG9uIDIzLUp1bi0xNi5cclxuICovXHJcbmFuZ3VsYXIubW9kdWxlKCdhcHAuY29tcG9uZW50cy5hdXRoLmxvZ2luJywgW1xyXG4gICAgJ2FwcC5zZXJ2aWNlcycsXHJcbiAgICAnbmdGYWNlYm9vaycsXHJcbiAgICAnZ29vZ2xlLXNpZ25pbidcclxuXSlcclxuICAgIC5jb25maWcoWyckZmFjZWJvb2tQcm92aWRlcicsICdHb29nbGVTaWduaW5Qcm92aWRlcicsIGZ1bmN0aW9uICgkZmFjZWJvb2tQcm92aWRlciwgR29vZ2xlU2lnbmluUHJvdmlkZXIpIHtcclxuICAgICAgICAkZmFjZWJvb2tQcm92aWRlci5zZXRQZXJtaXNzaW9ucygnZW1haWwnKTtcclxuICAgICAgICAkZmFjZWJvb2tQcm92aWRlci5zZXRDdXN0b21Jbml0KHtcclxuICAgICAgICAgICAgYXBwSWQ6ICcxNDU5MjI1NjU4MzQwMDMnLFxyXG4gICAgICAgICAgICB2ZXJzaW9uOiAndjIuNycsXHJcbiAgICAgICAgICAgIGNoYW5uZWw6ICcnLFxyXG4gICAgICAgICAgICB4ZmJtbDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBHb29nbGVTaWduaW5Qcm92aWRlci5pbml0KHtcclxuICAgICAgICAgICAgY2xpZW50X2lkOiAnMzE4MzIzODM4NDEyLW4wb2o2ZDcyMHM3OGFldjNnYmM0MDRrNzZsY2p1cGJnLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJ1xyXG4gICAgICAgIH0pXHJcbiAgICB9XSlcclxuICAgIC5ydW4oWyckZmFjZWJvb2snLCBmdW5jdGlvbiAoJGZhY2Vib29rKSB7XHJcbiAgICAgICAgJGZhY2Vib29rLmluaXQoKVxyXG4gICAgfV0pXHJcbiAgICAuY29udHJvbGxlcignbG9naW5DdHJsJywgWyckc3RhdGUnLCAnJGZhY2Vib29rJywgJ0dvb2dsZVNpZ25pbicsICdBdXRoJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHN0YXRlLCAkZmFjZWJvb2ssIEdvb2dsZVNpZ25pbiwgQXV0aCkge1xyXG4gICAgICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdm0ubG9naW4gPSBmdW5jdGlvbiAocHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdmYWNlYm9vayc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRmYWNlYm9vay5sb2dpbignZW1haWwnKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkZmFjZWJvb2suYXBpKCcvbWU/ZmllbGRzPWlkLGZpcnN0X25hbWUsbGFzdF9uYW1lLGJpcnRoZGF5LGVtYWlsJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF1dGhPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRhdGEuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHByb3ZpZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEF1dGgubG9naW4oYXV0aE9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9maWxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZ29vZ2xlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgR29vZ2xlU2lnbmluLnNpZ25JbigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9maWxlID0gZGF0YS5nZXRCYXNpY1Byb2ZpbGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBdXRoLmxvZ2luKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcHJvZmlsZS5nZXRJZCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBwcm9maWxlLmdldEVtYWlsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogcHJvZmlsZS5nZXRHaXZlbk5hbWUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X25hbWU6IHByb2ZpbGUuZ2V0RmFtaWx5TmFtZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpY3R1cmU6IHByb2ZpbGUuZ2V0SW1hZ2VVcmwoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHByb3ZpZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdwcm9maWxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBBdXRoLmxvZ2luKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB2bS51c2VybmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB2bS5wYXNzd29yZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ2xvY2FsJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2ZpbGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
